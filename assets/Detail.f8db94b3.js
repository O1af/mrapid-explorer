import{u as ne,i as h,c as L,L as Oe,t as A,a as W,b as xe,d as E,s as $,F as le,S as de,e as ve,f as Le,g as he,h as J,j as Qe,k as me,l as We,m as Xe,n as Je,o as Ke,p as Ce,q as et,r as tt}from"./index.098b95bd.js";import{S as Me,r as nt,I as De,i as be,t as it,c as at,l as rt,w as lt,a as st,b as Q,d as ot,x as dt,y as ct,e as Ye,f as ie,g as ut,h as vt,j as Ee,m as qe,k as _e,s as mt,n as ft,o as gt,p as yt,q as $t,u as ht,v as _t,z as pt,L as xt,R as bt,H as St}from"./index.c8d278e1.js";const wt=A('<div class="breadcrumb"><a class="breadcrumb-home" href="https://openaq.org"><span class="material-symbols-outlined green">home</span></a><span class="material-symbols-outlined">chevron_right</span><span class="material-symbols-outlined">chevron_right</span><span class="breadcrumb-current-page"></span></div>',12);function kt(){const[e]=ne();return(()=>{const t=wt.cloneNode(!0),l=t.firstChild,s=l.nextSibling,c=s.nextSibling,d=c.nextSibling;return h(t,L(Oe,{href:"/",class:"breadcrumb-explore",children:"Explore the data"}),c),h(d,()=>e.location?.name),t})()}function Pt(e,t,l){e=+e,t=+t,l=(c=arguments.length)<2?(t=e,e=0,1):c<3?1:+l;for(var s=-1,c=Math.max(0,Math.ceil((t-e)/l))|0,d=new Array(c);++s<c;)d[s]=e+s*l;return d}function Ct(e){return e}var fe=1,ge=2,pe=3,ce=4,Ne=1e-6;function Mt(e){return"translate("+e+",0)"}function Dt(e){return"translate(0,"+e+")"}function Nt(e){return t=>+e(t)}function Tt(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),l=>+e(l)+t}function Ft(){return!this.__axis}function He(e,t){var l=[],s=null,c=null,d=6,r=6,f=3,x=typeof window<"u"&&window.devicePixelRatio>1?0:.5,m=e===fe||e===ce?-1:1,P=e===ce||e===ge?"x":"y",o=e===fe||e===pe?Mt:Dt;function n(a){var y=s??(t.ticks?t.ticks.apply(t,l):t.domain()),k=c??(t.tickFormat?t.tickFormat.apply(t,l):Ct),v=Math.max(d,0)+f,b=t.range(),_=+b[0]+x,p=+b[b.length-1]+x,N=(t.bandwidth?Tt:Nt)(t.copy(),x),C=a.selection?a.selection():a,S=C.selectAll(".domain").data([null]),w=C.selectAll(".tick").data(y,t).order(),Y=w.exit(),T=w.enter().append("g").attr("class","tick"),M=w.select("line"),g=w.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(T),M=M.merge(T.append("line").attr("stroke","currentColor").attr(P+"2",m*d)),g=g.merge(T.append("text").attr("fill","currentColor").attr(P,m*v).attr("dy",e===fe?"0em":e===pe?"0.71em":"0.32em")),a!==C&&(S=S.transition(a),w=w.transition(a),M=M.transition(a),g=g.transition(a),Y=Y.transition(a).attr("opacity",Ne).attr("transform",function(D){return isFinite(D=N(D))?o(D+x):this.getAttribute("transform")}),T.attr("opacity",Ne).attr("transform",function(D){var z=this.parentNode.__axis;return o((z&&isFinite(z=z(D))?z:N(D))+x)})),Y.remove(),S.attr("d",e===ce||e===ge?r?"M"+m*r+","+_+"H"+x+"V"+p+"H"+m*r:"M"+x+","+_+"V"+p:r?"M"+_+","+m*r+"V"+x+"H"+p+"V"+m*r:"M"+_+","+x+"H"+p),w.attr("opacity",1).attr("transform",function(D){return o(N(D)+x)}),M.attr(P+"2",m*d),g.attr(P,m*v).text(k),C.filter(Ft).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===ge?"start":e===ce?"end":"middle"),C.each(function(){this.__axis=N})}return n.scale=function(a){return arguments.length?(t=a,n):t},n.ticks=function(){return l=Array.from(arguments),n},n.tickArguments=function(a){return arguments.length?(l=a==null?[]:Array.from(a),n):l.slice()},n.tickValues=function(a){return arguments.length?(s=a==null?null:Array.from(a),n):s&&s.slice()},n.tickFormat=function(a){return arguments.length?(c=a,n):c},n.tickSize=function(a){return arguments.length?(d=r=+a,n):d},n.tickSizeInner=function(a){return arguments.length?(d=+a,n):d},n.tickSizeOuter=function(a){return arguments.length?(r=+a,n):r},n.tickPadding=function(a){return arguments.length?(f=+a,n):f},n.offset=function(a){return arguments.length?(x=+a,n):x},n}function je(e){return He(pe,e)}function ue(e){return He(ce,e)}function se(e){return typeof e=="string"?new Me([[document.querySelector(e)]],[document.documentElement]):new Me([[e]],nt)}const Te=Symbol("implicit");function Re(){var e=new De,t=[],l=[],s=Te;function c(d){let r=e.get(d);if(r===void 0){if(s!==Te)return s;e.set(d,r=t.push(d)-1)}return l[r%l.length]}return c.domain=function(d){if(!arguments.length)return t.slice();t=[],e=new De;for(const r of d)e.has(r)||e.set(r,t.push(r)-1);return c},c.range=function(d){return arguments.length?(l=Array.from(d),c):l.slice()},c.unknown=function(d){return arguments.length?(s=d,c):s},c.copy=function(){return Re(t,l).unknown(s)},be.apply(c,arguments),c}function Ve(){var e=Re().unknown(void 0),t=e.domain,l=e.range,s=0,c=1,d,r,f=!1,x=0,m=0,P=.5;delete e.unknown;function o(){var n=t().length,a=c<s,y=a?c:s,k=a?s:c;d=(k-y)/Math.max(1,n-x+m*2),f&&(d=Math.floor(d)),y+=(k-y-d*(n-x))*P,r=d*(1-x),f&&(y=Math.round(y),r=Math.round(r));var v=Pt(n).map(function(b){return y+d*b});return l(a?v.reverse():v)}return e.domain=function(n){return arguments.length?(t(n),o()):t()},e.range=function(n){return arguments.length?([s,c]=n,s=+s,c=+c,o()):[s,c]},e.rangeRound=function(n){return[s,c]=n,s=+s,c=+c,f=!0,o()},e.bandwidth=function(){return r},e.step=function(){return d},e.round=function(n){return arguments.length?(f=!!n,o()):f},e.padding=function(n){return arguments.length?(x=Math.min(1,m=+n),o()):x},e.paddingInner=function(n){return arguments.length?(x=Math.min(1,n),o()):x},e.paddingOuter=function(n){return arguments.length?(m=+n,o()):m},e.align=function(n){return arguments.length?(P=Math.max(0,Math.min(1,n)),o()):P},e.copy=function(){return Ve(t(),[s,c]).round(f).paddingInner(x).paddingOuter(m).align(P)},be.apply(o(),arguments)}function Fe(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Ae(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function At(e){var t=1,l=e(Fe(t),Ae(t));return l.constant=function(s){return arguments.length?e(Fe(t=+s),Ae(t)):t},rt(l)}function Ue(){var e=At(it());return e.copy=function(){return at(e,Ue()).constant(e.constant())},be.apply(e,arguments)}function It(e,t,l){var s=null,c=Q(!0),d=null,r=ot,f=null,x=lt(m);e=typeof e=="function"?e:e===void 0?dt:Q(+e),t=typeof t=="function"?t:t===void 0?Q(0):Q(+t),l=typeof l=="function"?l:l===void 0?ct:Q(+l);function m(o){var n,a,y,k=(o=st(o)).length,v,b=!1,_,p=new Array(k),N=new Array(k);for(d==null&&(f=r(_=x())),n=0;n<=k;++n){if(!(n<k&&c(v=o[n],n,o))===b)if(b=!b)a=n,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),y=n-1;y>=a;--y)f.point(p[y],N[y]);f.lineEnd(),f.areaEnd()}b&&(p[n]=+e(v,n,o),N[n]=+t(v,n,o),f.point(s?+s(v,n,o):p[n],l?+l(v,n,o):N[n]))}if(_)return f=null,_+""||null}function P(){return Ye().defined(c).curve(r).context(d)}return m.x=function(o){return arguments.length?(e=typeof o=="function"?o:Q(+o),s=null,m):e},m.x0=function(o){return arguments.length?(e=typeof o=="function"?o:Q(+o),m):e},m.x1=function(o){return arguments.length?(s=o==null?null:typeof o=="function"?o:Q(+o),m):s},m.y=function(o){return arguments.length?(t=typeof o=="function"?o:Q(+o),l=null,m):t},m.y0=function(o){return arguments.length?(t=typeof o=="function"?o:Q(+o),m):t},m.y1=function(o){return arguments.length?(l=o==null?null:typeof o=="function"?o:Q(+o),m):l},m.lineX0=m.lineY0=function(){return P().x(e).y(t)},m.lineY1=function(){return P().x(e).y(l)},m.lineX1=function(){return P().x(s).y(t)},m.defined=function(o){return arguments.length?(c=typeof o=="function"?o:Q(!!o),m):c},m.curve=function(o){return arguments.length?(r=o,d!=null&&(f=r(d)),m):r},m.context=function(o){return arguments.length?(o==null?d=f=null:f=r(d=o),m):d},m}const zt=A('<svg><line stroke="#6A5CD8" stroke-width="1"></line></svg>',4,!0),Ot=A('<svg><circle class="line-chart-point-highlight" r="9"></circle></svg>',4,!0),Lt=A('<svg><rect x="0" y="0" rx="5" ry="5" width="40" height="25" fill="#6A5CD8"></rect></svg>',4,!0),Yt=A('<svg><text text-anchor="middle">Loading...</text></svg>',4,!0),Et=A('<svg><text text-anchor="middle">No data in selected time range</text></svg>',4,!0),qt=A('<svg><text x="0" y="0" font-size="12" fill="white"></text></svg>',4,!0),Ht=A('<div><div class="line-chart-tooltip"><span class="line-chart-tooltip__value"></span> <span class="line-chart-tooltip__unit"></span></div><svg><defs><linearGradient id="area-gradient" gradientUnits="userSpaceOnUse" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#d4cdf9" stop-opacity="0.7"></stop><stop offset="95%" stop-color="white" stop-opacity="0.7"></stop></linearGradient></defs><filter id="shadow" color-interpolation-filters="sRGB"><feDropShadow dx="2" dy="2" stddeviation="0.5" flood-opacity="0.2"></feDropShadow></filter><g></g><g class="chart-grid line-chart-grid"></g><g></g><g class="y-axis"></g><g class="x-axis"></g><g></g></svg></div>',34),jt=A('<svg><path class="line-chart-area"></path></svg>',4,!0),Rt=A('<svg><path class="line-chart-line"></path></svg>',4,!0),Vt=A('<svg><circle class="line-chart-point"></circle></svg>',4,!0),Ut=ie(".%L"),Zt=ie(":%S"),Bt=ie("%H:%M"),Ze=ie("%H:%M"),Gt=ie("%b %d"),Qt=ie("%b %d"),Wt=ie("%B"),Xt=ie("%Y"),Jt=e=>(mt(e)<e?Ut:ft(e)<e?Zt:gt(e)<e?Bt:yt(e)<e?Ze:$t(e)<e?ht(e)<e?Gt:Qt:_t(e)<e?Wt:Xt)(e);function Ie(e){let t=[],l;return e.length===0?[[]]:(e.reduce((s,c,d,r)=>{const f=new Date(c.period.datetimeTo.local);return l===void 0||parseInt((f-l)/(60*60*1e3))===1||(t.push(s),s=[]),s.push(c),d===r.length-1&&s.length>0&&t.push(s),l=f,s},[]),t)}function Kt(e){const[t,l]=W(),[s]=ne(),c=(v,b,_)=>{const p=ut().range([0,v]);return p.domain(vt([new Date(b),new Date(_)])),p},d=(v,b,_)=>{let p;v=="linear"?p=Ee().range([b,0]):p=Ue().range([b,0]);const N=qe(_,S=>S.value),C=N<0?N:0;return p.domain([C,_e(_,()=>_e(_,S=>S.value)*1.2)]),p},r=v=>ue(v).ticks(5),f=(v,b)=>ue(v).tickSize(-b).tickFormat("").ticks(5),x=v=>je(v).ticks(24).tickFormat(b=>Jt(b)),m=(v,b,_)=>v.map(p=>({value:p.value,cx:b(new Date(p.period.datetimeTo.local)),cy:_(p.value),unit:p.parameter.units,date:new Date(p.period.datetimeTo.local)})),P=(v,b)=>Ye().x(_=>v(new Date(_.period.datetimeTo.local))).y(_=>b(_.value)),o=(v,b)=>It().x(_=>v(new Date(_.period.datetimeTo.local))).y0(e.height).y1(_=>b(_.value));let n,a,y;function k(){if(e.data){const v=c(e.width,e.dateFrom,e.dateTo),b=d(e.scale,e.height,e.data);se(a).call(x(v)),se(n).call(r(b)),se(y).call(f(b,e.width)).selectAll("line,path").style("stroke","#d4d8dd")}}return xe(()=>k()),(()=>{const v=Ht.cloneNode(!0),b=v.firstChild,_=b.firstChild,p=_.nextSibling,N=p.nextSibling,C=b.nextSibling,S=C.firstChild,w=S.nextSibling,Y=w.nextSibling,T=Y.nextSibling,M=T.nextSibling,g=M.nextSibling,D=g.nextSibling,z=D.nextSibling;v.style.setProperty("position","relative"),h(_,()=>t()?.value),h(N,()=>t()?.unit),h(Y,L(le,{get each(){return Ie(e.data)},children:u=>(()=>{const i=jt.cloneNode(!0);return E(()=>$(i,"d",o(c(e.width,e.dateFrom,e.dateTo),d(e.scale,e.height,e.data))(u))),i})()}));const H=y;typeof H=="function"?ve(H,T):y=T,h(M,L(le,{get each(){return Ie(e.data)},children:u=>(()=>{const i=Rt.cloneNode(!0);return E(()=>$(i,"d",P(c(e.width,e.dateFrom,e.dateTo),d(e.scale,e.height,e.data))(u))),i})()}),null),h(M,L(de,{get when(){return t()?.visible},get children(){return[(()=>{const u=zt.cloneNode(!0);return E(i=>{const F=t()?.x,O=e.height,I=t()?.x,q=t()?.y;return F!==i._v$&&$(u,"x1",i._v$=F),O!==i._v$2&&$(u,"y1",i._v$2=O),I!==i._v$3&&$(u,"x2",i._v$3=I),q!==i._v$4&&$(u,"y2",i._v$4=q),i},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),u})(),(()=>{const u=Ot.cloneNode(!0);return E(i=>{const F=t()?.x,O=t()?.y;return F!==i._v$5&&$(u,"cx",i._v$5=F),O!==i._v$6&&$(u,"cy",i._v$6=O),i},{_v$5:void 0,_v$6:void 0}),u})(),(()=>{const u=Lt.cloneNode(!0);return E(()=>$(u,"transform",`translate(${t()?.x-20},${e.height})`)),u})()]}}),null),h(M,L(le,{get each(){return m(e.data,c(e.width,e.dateFrom,e.dateTo),d(e.scale,e.height,e.data))},children:u=>(()=>{const i=Vt.cloneNode(!0);return i.addEventListener("mouseleave",()=>l({visible:!1})),i.addEventListener("mouseenter",()=>l({visible:!0,x:u.cx,y:u.cy,value:u.value,unit:u.unit,date:u.date})),E(F=>{const O=u.cx,I=u.cy,q=u.cx==t()?.x?5:3;return O!==F._v$22&&$(i,"cx",F._v$22=O),I!==F._v$23&&$(i,"cy",F._v$23=I),q!==F._v$24&&$(i,"r",F._v$24=q),F},{_v$22:void 0,_v$23:void 0,_v$24:void 0}),i})()}),null),h(M,L(de,{get when(){return s.measurements.loading},get children(){const u=Yt.cloneNode(!0);return E(i=>{const F=e.width/2,O=e.height/2;return F!==i._v$7&&$(u,"x",i._v$7=F),O!==i._v$8&&$(u,"y",i._v$8=O),i},{_v$7:void 0,_v$8:void 0}),u}}),null),h(M,L(de,{get when(){return s.measurements.state=="ready"&&e.data.length===0},get children(){const u=Et.cloneNode(!0);return E(i=>{const F=e.width/2,O=e.height/2;return F!==i._v$9&&$(u,"x",i._v$9=F),O!==i._v$10&&$(u,"y",i._v$10=O),i},{_v$9:void 0,_v$10:void 0}),u}}),null);const j=n;typeof j=="function"?ve(j,g):n=g;const U=a;return typeof U=="function"?ve(U,D):a=D,h(z,L(de,{get when(){return t()?.visible},get children(){const u=qt.cloneNode(!0);return h(u,()=>Ze(t()?.date)),E(()=>$(u,"transform",`translate(${t()?.x-16},${e.height+17})`)),u}})),E(u=>{const i=t()?.visible?"flex":"none",F=`${t()?.x-65}px`,O=`${t()?.y+5}px`,I=`${e.width+e.margin}px`,q=`${e.height+e.margin}px`,Z=`translate(${e.margin/2} ${e.margin/2})`,X=`translate(${e.margin/2} ${e.margin/2} )`,K=`translate(${e.margin/2} ${e.margin/2})`,ae=`translate(${e.margin/2} ${e.margin/2})`,ee=`translate(${e.margin/2} ${e.height+e.margin/2})`,te=`translate(${e.margin/2} ${e.margin/2})`;return i!==u._v$11&&b.style.setProperty("display",u._v$11=i),F!==u._v$12&&b.style.setProperty("left",u._v$12=F),O!==u._v$13&&b.style.setProperty("top",u._v$13=O),I!==u._v$14&&$(C,"width",u._v$14=I),q!==u._v$15&&$(C,"height",u._v$15=q),Z!==u._v$16&&$(Y,"transform",u._v$16=Z),X!==u._v$17&&$(T,"transform",u._v$17=X),K!==u._v$18&&$(M,"transform",u._v$18=K),ae!==u._v$19&&$(g,"transform",u._v$19=ae),ee!==u._v$20&&$(D,"transform",u._v$20=ee),te!==u._v$21&&$(z,"transform",u._v$21=te),u},{_v$11:void 0,_v$12:void 0,_v$13:void 0,_v$14:void 0,_v$15:void 0,_v$16:void 0,_v$17:void 0,_v$18:void 0,_v$19:void 0,_v$20:void 0,_v$21:void 0}),v})()}const en=A('<div class="box-plot-tooltip" role="tooltip"><div class="box-plot-tooltip__head"><span class="type-body3 text-white"></span></div><div class="box-plot-tooltip__body"><div class="box-plot-legend-item"><div class="bg-smoke-10 box-plot-legend-color"></div><div><span class="type-body-3"></span><span class="type-body-1">\xB5g/m\xB3</span></div><div class="box-plot-legend-item-label"><span class="type-body-1">98<sup>th</sup> percentile</span></div></div><div class="box-plot-legend-item"><div class="bg-lavender-100 box-plot-legend-color"></div><div><span class="type-body-3"></span><span class="type-body-1">\xB5g/m\xB3</span></div><div class="box-plot-legend-item-label"><span class="type-body-1">75<sup>th</sup> percentile</span></div></div><div class="box-plot-legend-item bg-sky-10"><div class="bg-lavender-120 box-plot-legend-color"></div><div><span class="type-body-3"> </span><span class="type-body-1">\xB5g/m\xB3</span></div><div class="box-plot-legend-item-label"><span class="type-body-1">Median</span></div></div><div class="box-plot-legend-item"><div class="bg-lavender-100 box-plot-legend-color"></div><div><span class="type-body-3"> </span><span class="type-body-1">\xB5g/m\xB3</span></div><div class="box-plot-legend-item-label"><span class="type-body-1">25<sup>th</sup> percentile</span></div></div><div class="box-plot-legend-item"><div class="bg-smoke-10 box-plot-legend-color"></div><div><span class="type-body-3"> </span><span class="type-body-1">\xB5g/m\xB3</span></div><div class="box-plot-legend-item-label"><span class="type-body-1">2<sup>nd</sup> percentile</span></div></div></div></div>',86),tn=A("<svg><g></g><g></g><g></g><g></g></svg>",10),nn=A('<svg><g class="box-plot-bar"><line stroke-width="2" stroke="#CCCCCC" class="whiskers"></line><line stroke="#EAE7FF" class="box"></line><line stroke-width="2" stroke="#8576ED" class="q3"></line><line stroke-width="2" stroke="#8576ED" class="q1"></line><line stroke-width="4" stroke="#584DAE" class="median"></line></g></svg>',14,!0);function an(e){return(()=>{const t=en.cloneNode(!0),l=t.firstChild,s=l.firstChild,c=l.nextSibling,d=c.firstChild,r=d.firstChild,f=r.nextSibling,x=f.firstChild,m=d.nextSibling,P=m.firstChild,o=P.nextSibling,n=o.firstChild,a=m.nextSibling,y=a.firstChild,k=y.nextSibling,v=k.firstChild,b=v.firstChild,_=a.nextSibling,p=_.firstChild,N=p.nextSibling,C=N.firstChild,S=C.firstChild,w=_.nextSibling,Y=w.firstChild,T=Y.nextSibling,M=T.firstChild,g=M.firstChild;return h(s,()=>e.data?.period),h(x,()=>e.data?.values?.max),h(n,()=>e.data.values?.interquartileTop),h(v,()=>e.data.values?.median,b),h(C,()=>e.data.values?.interquartileBottom,S),h(M,()=>e.data.values?.min,g),E(D=>{const z=`${e.data.style?.y}px`,H=`${e.data.style?.x}px`,j=`${e.data.style?.display||"none"}`;return z!==D._v$&&t.style.setProperty("top",D._v$=z),H!==D._v$2&&t.style.setProperty("left",D._v$2=H),j!==D._v$3&&t.style.setProperty("display",D._v$3=j),D},{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})()}function ze(e){const[t,l]=W({style:{display:"none",y:0,x:0}}),s={1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday",7:"Sunday"},c=["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","00"],d=["01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00","00:00"],r=Object.assign(...c.map((S,w)=>({[S]:d[w]}))),f=S=>Object.keys(S).sort((w,Y)=>parseInt(w)-parseInt(Y)),x=e.period=="day"?Object.keys(s):f(r),m=e.period=="day"?s:r,P=e.width/x.length-5,o=(S,w)=>{l({period:m[w.factor.label],values:{max:parseFloat(w.summary.q98.toFixed(3)),interquartileTop:parseFloat(w.summary.q75.toFixed(3)),median:parseFloat(w.summary.median.toFixed(3)),interquartileBottom:parseFloat(w.summary.q25.toFixed(3)),min:parseFloat(w.summary.q02.toFixed(3))},style:{display:"block",x:S.pageX+20,y:S.pageY-250}})},n=()=>{l({style:{display:"none",y:0,x:0}})},a=Ve().range([0,e.width]).domain(x),[y,k]=W(),v=Ee().range([e.height,0]),b=()=>{const S=qe(y(),w=>w.summary.q02);v.domain([S<0?S:0,_e(y(),w=>w.summary.q98*1.1)])},_=x.length>12?a.domain().filter((S,w)=>w%3==0).sort((S,w)=>parseInt(w)-parseInt(S)):x,p=ue(v).ticks(6),N=ue(v).tickSize(-e.width).tickFormat("").ticks(6),C=je(a).tickValues(_).tickFormat(S=>m[S]);return xe(()=>{e.data&&(k(e.data),b(),se(`.box-plot-x-axis-${e.name}`).call(C),se(`.box-plot-y-axis-${e.name}`).call(p),se(`.box-plot-grid-${e.name}`).call(N).selectAll("line,path").style("stroke","#d4d8dd"))}),[L(an,{get data(){return t()}}),(()=>{const S=tn.cloneNode(!0),w=S.firstChild,Y=w.nextSibling,T=Y.nextSibling,M=T.nextSibling;return h(Y,L(le,{get each(){return y()},children:g=>(()=>{const D=nn.cloneNode(!0),z=D.firstChild,H=z.nextSibling,j=H.nextSibling,U=j.nextSibling,u=U.nextSibling;return D.addEventListener("mouseleave",n),D.addEventListener("mouseenter",i=>o(i,g)),$(H,"stroke-width",P),E(i=>{const F=a(g.factor.label),O=a(g.factor.label),I=v(g.summary.q02),q=v(g.summary.q98),Z=a(g.factor.label),X=a(g.factor.label),K=v(g.summary.q25),ae=v(g.summary.q75),ee=a(g.factor.label)-P/2,te=a(g.factor.label)+P/2,oe=v(g.summary.q75),R=v(g.summary.q75),V=a(g.factor.label)-P/2,B=a(g.factor.label)+P/2,G=v(g.summary.q25),re=v(g.summary.q25),Se=a(g.factor.label)-P/2,we=a(g.factor.label)+P/2,ke=v(g.summary.median),Pe=v(g.summary.median);return F!==i._v$13&&$(z,"x1",i._v$13=F),O!==i._v$14&&$(z,"x2",i._v$14=O),I!==i._v$15&&$(z,"y1",i._v$15=I),q!==i._v$16&&$(z,"y2",i._v$16=q),Z!==i._v$17&&$(H,"x1",i._v$17=Z),X!==i._v$18&&$(H,"x2",i._v$18=X),K!==i._v$19&&$(H,"y1",i._v$19=K),ae!==i._v$20&&$(H,"y2",i._v$20=ae),ee!==i._v$21&&$(j,"x1",i._v$21=ee),te!==i._v$22&&$(j,"x2",i._v$22=te),oe!==i._v$23&&$(j,"y1",i._v$23=oe),R!==i._v$24&&$(j,"y2",i._v$24=R),V!==i._v$25&&$(U,"x1",i._v$25=V),B!==i._v$26&&$(U,"x2",i._v$26=B),G!==i._v$27&&$(U,"y1",i._v$27=G),re!==i._v$28&&$(U,"y2",i._v$28=re),Se!==i._v$29&&$(u,"x1",i._v$29=Se),we!==i._v$30&&$(u,"x2",i._v$30=we),ke!==i._v$31&&$(u,"y1",i._v$31=ke),Pe!==i._v$32&&$(u,"y2",i._v$32=Pe),i},{_v$13:void 0,_v$14:void 0,_v$15:void 0,_v$16:void 0,_v$17:void 0,_v$18:void 0,_v$19:void 0,_v$20:void 0,_v$21:void 0,_v$22:void 0,_v$23:void 0,_v$24:void 0,_v$25:void 0,_v$26:void 0,_v$27:void 0,_v$28:void 0,_v$29:void 0,_v$30:void 0,_v$31:void 0,_v$32:void 0}),D})()})),E(g=>{const D=`${e.width+e.margin}px`,z=`${e.height+e.margin}px`,H=`chart-grid box-plot-grid-${e.name}`,j=`translate(${e.margin/2} ${e.margin/2} )`,U=`translate(${e.margin/1.8+P/2} ${e.margin/2})`,u=`box-plot-y-axis-${e.name}`,i=`translate(${e.margin/2} ${e.margin/2})`,F=`box-plot-x-axis-${e.name}`,O=`translate(${e.margin/2} ${e.height+e.margin/2})`;return D!==g._v$4&&$(S,"width",g._v$4=D),z!==g._v$5&&$(S,"height",g._v$5=z),H!==g._v$6&&$(w,"class",g._v$6=H),j!==g._v$7&&$(w,"transform",g._v$7=j),U!==g._v$8&&$(Y,"transform",g._v$8=U),u!==g._v$9&&$(T,"class",g._v$9=u),i!==g._v$10&&$(T,"transform",g._v$10=i),F!==g._v$11&&$(M,"class",g._v$11=F),O!==g._v$12&&$(M,"transform",g._v$12=O),g},{_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0}),S})()]}const rn=A('<div><h1 class="type-heading-1 text-sky-120">Latest Readings</h1><button class="button-reset"><span class="material-symbols-outlined">help</span></button></div>',8),ln=A('<div><div><select name="" id="" class="select"></select><select name="" id="" class="select"><option value="24">Last 24 hours</option><option value="48">Last 48 hours</option><option value="72">Last 72 hours</option><option value="168">Last 1 week</option><option value="720">Last 30 days</option></select><select name="scale-type" id="scale-type-select" class="select"><option value="linear" selected>Linear</option><option value="log">Logarithmic</option></select><button class="btn btn-secondary">Update</button></div></div>',26),sn=A("<div></div>",2),Be=A("<option> (<!>)</option>",3),on=A('<div class="patterns-container"></div>',2),dn=A('<div><h1 class="type-heading-1 text-sky-120">Patterns</h1></div>',4),cn=A('<div><div><select name="" id="" class="select"></select><select name="" id="" class="select"><option value="">All time</option></select><button class="btn btn-secondary">Update</button></div></div>',12),un=A('<div><div><h3 class="type-header-3">Hour of day</h3></div><div><h3 class="type-header-3">Day of week</h3></div></div>',10),vn=A('<div class="detail-charts"><section class="detail-charts__section"></section><section class="detail-charts__section"></section></div>',6);function ye(e){return 60*60*e*1e3}function mn(){const[e,{setMeasurements:t,toggleHelp:l,loadContent:s,setScale:c}]=ne(),[d,r]=W(e.location?.sensors[0].parameter.id),[f,x]=W("linear"),m=24,[P,o]=W(m),[n,a]=W(new Date(Date.now()-ye(m)).toISOString()),[y]=W(new Date().toISOString()),k=()=>e.measurements()?e.measurements():[],v=he(()=>{a(new Date(Date.now()-ye(P())).toISOString()),t(e.location.id,d(),n(),y()),r(e.location?.sensors[0].parameter.id),t(e.location.id,e.location?.sensors[0].parameter.id,n(),y())}),b=he(()=>_());v(()=>e.location?.sensors[0].parameter.displayName),b(()=>e.location?.id);const _=()=>{a(new Date(Date.now()-ye(P())).toISOString()),t(e.location.id,d(),n(),y()),c(f())};return e.location?.id&&_(),[(()=>{const p=rn.cloneNode(!0),N=p.firstChild,C=N.nextSibling;return p.style.setProperty("display","flex"),p.style.setProperty("align-items","center"),p.style.setProperty("margin","24px 0"),p.style.setProperty("gap","12px"),C.$$click=()=>{l(!0),s("lineChartHelp")},C.style.setProperty("display","flex"),p})(),(()=>{const p=ln.cloneNode(!0),N=p.firstChild,C=N.firstChild,S=C.nextSibling,w=S.nextSibling,Y=w.nextSibling;return p.style.setProperty("display","flex"),p.style.setProperty("justify-content","space-between"),N.style.setProperty("display","flex"),N.style.setProperty("gap","12px"),N.style.setProperty("align-items","center"),C.addEventListener("change",T=>r(T.target.value)),h(C,L(le,{get each(){return e.location?.sensors},children:T=>(()=>{const M=Be.cloneNode(!0),g=M.firstChild,D=g.nextSibling;return D.nextSibling,h(M,()=>T.parameter.displayName,g),h(M,()=>T.parameter.units,D),E(()=>M.selected=d()==T.parameter.id),E(()=>M.value=T.parameter.id),M})()})),S.addEventListener("change",T=>o(T.target.value)),w.addEventListener("change",T=>x(T.target.value)),Y.$$click=_,p})(),(()=>{const p=sn.cloneNode(!0);return h(p,L(Kt,{width:1200,height:250,margin:100,get dateFrom(){return n()},get dateTo(){return y()},get data(){return k()},get scale(){return e.latestReadings}})),p})()]}function fn(){const[e,{setHourTrendParams:t,setDayTrendParams:l}]=ne(),[s,c]=W(e.location?.sensors[0].parameter.id),d=e.id;function r(){t({sensorNodesId:d,measurandsId:s()}),l({sensorNodesId:d,measurandsId:s()})}return t({sensorNodesId:d,measurandsId:2}),l({sensorNodesId:d,measurandsId:2}),[(()=>{const f=on.cloneNode(!0);return f.style.setProperty("display","grid:"),f})(),(()=>{const f=dn.cloneNode(!0);return f.style.setProperty("display","flex"),f.style.setProperty("align-items","center"),f.style.setProperty("margin","24px 0"),f.style.setProperty("gap","12px"),f})(),(()=>{const f=cn.cloneNode(!0),x=f.firstChild,m=x.firstChild,P=m.nextSibling,o=P.nextSibling;return f.style.setProperty("display","flex"),f.style.setProperty("justify-content","space-between"),x.style.setProperty("display","flex"),x.style.setProperty("gap","12px"),x.style.setProperty("align-items","center"),m.addEventListener("change",n=>c(n.target.value)),h(m,L(le,{get each(){return e.location?.sensors},children:n=>(()=>{const a=Be.cloneNode(!0),y=a.firstChild,k=y.nextSibling;return k.nextSibling,a.selected=()=>s()==n.parameter.id,h(a,()=>n.parameter.displayName,y),h(a,()=>n.parameter.units,k),E(()=>a.value=n.parameter.id),a})()})),o.$$click=()=>r(),f})(),(()=>{const f=un.cloneNode(!0),x=f.firstChild;x.firstChild;const m=x.nextSibling;return m.firstChild,f.style.setProperty("display","flex"),f.style.setProperty("justify-content","space-around"),h(x,L(ze,{name:"time-of-day",width:350,height:350,period:"hour",margin:80,get data(){return e.hourTrends}}),null),h(m,L(ze,{name:"day-of-week",width:350,height:350,period:"day",margin:80,get data(){return e.dayTrends}}),null),f})()]}function gn(){return(()=>{const e=vn.cloneNode(!0),t=e.firstChild,l=t.nextSibling;return h(t,L(mn,{})),h(l,L(fn,{})),e})()}Le(["click"]);const yn="_overview__body_am5i1_7",$n="_overview_am5i1_7",hn="_overview__header_am5i1_21",$e={"section-card":"_section-card_am5i1_1",overview__body:yn,overview:$n,overview__header:hn},_n=A('<div class="detail-map"><div class="detail-map-overlay"><div><div class="detail-map-overlay__title"><h5 class="subtitle3">LOCATION</h5><a rel="noopener noreferrer" class="map-open-link" target="_blank"><span class="material-symbols-outlined green">open_in_new</span></a></div><div class="detail-map-overlay__coordinates"><span></span><span></span></div></div></div><div class="detail-map__attribution">\xA9 <a href="https://www.mapbox.com/about/maps/">Mapbox</a> \xA9 <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a></strong></div><img class="detail-map__image" alt=""></div>',31),pn=A("<span>Download data </span>",2),xn=A('<span class="material-symbols-rounded">cloud_download</span>',2),bn=A('<div><div class="bubble-lg"></div><div class="bubble-sm"></div><div><div><div><div class="location-breadcrumb"><span class="type-subtitle-3"> </span></div><h2 class="type-display-1 text-sky-120"></h2></div><div></div></div><div><section><h4>CHARACTERISTICS</h4><div><div>Type</div><div> <div></div> <div></div> </div><div>Measures</div><div></div><div>Name</div><div></div><div>Reporting</div><div><div><span class="body4 smoke120"></span></div></div><div>Provider</div><div></div></div></section><section></section><section></section></div></div></div>',60),Sn=A('<a target="_blank" rel="noopener noreferrer"> <span class="material-symbols-outlined type-color-ocean-120">open_in_new</span></a>',4),wn=A("<span></span>",2);J.extend(pt);function kn(){const[e]=ne();return(()=>{const t=_n.cloneNode(!0),l=t.firstChild,s=l.firstChild,c=s.firstChild,d=c.firstChild,r=d.nextSibling,f=c.nextSibling,x=f.firstChild,m=x.nextSibling,P=l.nextSibling,o=P.nextSibling;return s.style.setProperty("margin","20px 16px"),h(x,()=>parseFloat(e.location?.coordinates.latitude.toFixed(4))),h(m,()=>parseFloat(e.location?.coordinates.longitude.toFixed(4))),E(n=>{const a=`https://openstreetmap.org?mlat=${e.location?.coordinates.latitude}&mlon=${e.location?.coordinates.longitude}&zoom=16`,y=`https://images.openaq.org/maps/explorer/location_${e.id}.webp`;return a!==n._v$&&$(r,"href",n._v$=a),y!==n._v$2&&$(o,"src",n._v$2=y),n},{_v$:void 0,_v$2:void 0}),t})()}function Pn(){const[e,{checkForUpdate:t}]=ne();function l(c){return`Updated ${J(c).fromNow()}`}function s(c){return`Since ${J(c).format("DD/MM/YYYY")}`}return setInterval(()=>t(),1e3*60*5),(()=>{const c=bn.cloneNode(!0),d=c.firstChild,r=d.nextSibling,f=r.nextSibling,x=f.firstChild,m=x.firstChild,P=m.firstChild,o=P.firstChild,n=o.firstChild,a=P.nextSibling,y=m.nextSibling,k=x.nextSibling,v=k.firstChild,b=v.firstChild,_=b.nextSibling,p=_.firstChild,N=p.nextSibling,C=N.firstChild,S=C.nextSibling,w=S.nextSibling,Y=w.nextSibling,T=N.nextSibling,M=T.nextSibling,g=M.nextSibling,D=g.nextSibling,z=D.nextSibling,H=z.nextSibling,j=H.firstChild,U=j.firstChild,u=H.nextSibling,i=u.nextSibling,F=v.nextSibling,O=F.nextSibling;return c.style.setProperty("position","relative"),c.style.setProperty("top","-10px"),d.style.setProperty("position","absolute"),d.style.setProperty("top","-46px"),d.style.setProperty("right","-120px"),d.style.setProperty("z-index","-1"),r.style.setProperty("position","absolute"),r.style.setProperty("top","220px"),r.style.setProperty("right","30px"),r.style.setProperty("z-index","-1"),h(o,()=>e.location?.country.name,n),h(o,()=>e.location?.locality?"/":" /No city listed",n),h(o,()=>e.location?.locality,null),h(a,()=>e.location?.name),y.style.setProperty("display","flex"),y.style.setProperty("height","40px"),h(y,L(Oe,{href:"#download-card",class:"icon-btn btn-tertiary download-data-link",get children(){return[pn.cloneNode(!0),xn.cloneNode(!0)]}})),v.style.setProperty("flex","1"),_.style.setProperty("display","grid"),_.style.setProperty("grid-template-columns","1fr 1fr"),_.style.setProperty("row-gap","16px"),S.style.setProperty("display","flex"),S.style.setProperty("gap","10px"),S.style.setProperty("align-items","center"),h(S,()=>e.location?.isMonitor?"Monitor":"Air sensor",null),h(S,L(de,{get when(){return e.location?.isMonitor},get fallback(){return L(xt,{})},get children(){return L(bt,{})}}),null),h(Y,()=>e.location?.isMobile?"Mobile":"Stationary"),h(M,()=>e.location?.sensors.map(I=>`${I.parameter.displayName} (${I.parameter.units})`).join(", ")),h(D,()=>e.location?.name),h(H,()=>l(e.location?.datetimeLast.local),j),h(U,()=>s(e.location?.datetimeFirst.local)),h(i,(()=>{const I=Qe(()=>!!e.location?.provider.url);return()=>I()?(()=>{const q=Sn.cloneNode(!0),Z=q.firstChild;return h(q,()=>e.location?.provider.name,Z),E(()=>$(q,"href",e.location?.provider.url)),q})():(()=>{const q=wn.cloneNode(!0);return h(q,()=>e.location?.provider.name),q})()})()),F.style.setProperty("flex","1"),O.style.setProperty("flex","1"),h(O,L(kn,{})),E(I=>{const q=`${$e.overview} section-card`,Z=$e.overview__header,X=$e.overview__body;return q!==I._v$3&&me(f,I._v$3=q),Z!==I._v$4&&me(x,I._v$4=Z),X!==I._v$5&&me(k,I._v$5=X),I},{_v$3:void 0,_v$4:void 0,_v$5:void 0}),c})()}var Ge={exports:{}};(function(e,t){(function(l,s){e.exports=s()})(We,function(){var l={year:0,month:1,day:2,hour:3,minute:4,second:5},s={};return function(c,d,r){var f,x=function(n,a,y){y===void 0&&(y={});var k=new Date(n),v=function(b,_){_===void 0&&(_={});var p=_.timeZoneName||"short",N=b+"|"+p,C=s[N];return C||(C=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:b,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:p}),s[N]=C),C}(a,y);return v.formatToParts(k)},m=function(n,a){for(var y=x(n,a),k=[],v=0;v<y.length;v+=1){var b=y[v],_=b.type,p=b.value,N=l[_];N>=0&&(k[N]=parseInt(p,10))}var C=k[3],S=C===24?0:C,w=k[0]+"-"+k[1]+"-"+k[2]+" "+S+":"+k[4]+":"+k[5]+":000",Y=+n;return(r.utc(w).valueOf()-(Y-=Y%1e3))/6e4},P=d.prototype;P.tz=function(n,a){n===void 0&&(n=f);var y=this.utcOffset(),k=this.toDate(),v=k.toLocaleString("en-US",{timeZone:n}),b=Math.round((k-new Date(v))/1e3/60),_=r(v).$set("millisecond",this.$ms).utcOffset(15*-Math.round(k.getTimezoneOffset()/15)-b,!0);if(a){var p=_.utcOffset();_=_.add(y-p,"minute")}return _.$x.$timezone=n,_},P.offsetName=function(n){var a=this.$x.$timezone||r.tz.guess(),y=x(this.valueOf(),a,{timeZoneName:n}).find(function(k){return k.type.toLowerCase()==="timezonename"});return y&&y.value};var o=P.startOf;P.startOf=function(n,a){if(!this.$x||!this.$x.$timezone)return o.call(this,n,a);var y=r(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return o.call(y,n,a).tz(this.$x.$timezone,!0)},r.tz=function(n,a,y){var k=y&&a,v=y||a||f,b=m(+r(),v);if(typeof n!="string")return r(n).tz(v);var _=function(S,w,Y){var T=S-60*w*1e3,M=m(T,Y);if(w===M)return[T,w];var g=m(T-=60*(M-w)*1e3,Y);return M===g?[T,M]:[S-60*Math.min(M,g)*1e3,Math.max(M,g)]}(r.utc(n,k).valueOf(),b,v),p=_[0],N=_[1],C=r(p).utcOffset(N);return C.$x.$timezone=v,C},r.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},r.tz.setDefault=function(n){f=n}}})})(Ge);const Cn=Ge.exports,Mn=A('<div><div class="bubble-lg"></div><div class="bubble-sm"></div><article class="detail-charts" id="download-card"><section class="detail-charts__section"><div><div><h3 class="type-heading-1 text-sky-120">Download & API</h3></div></div><h3 class="type-subtitle-1 text-sky-120">Download Data (CSV)</h3><div><div><label for="datetime-from">Start date<input type="date" name="datetime-from" id="datetime-from" class="date-input"></label><label for="datetime-to">End date<input type="date" name="datetime-to" id="datetime-to" class="date-input"></label></div><div></div><div><button class="icon-btn btn-secondary">Download CSV<span class="material-symbols-outlined">cloud_download</span></button><span class="type-subtitle-3"></span></div></div></section><section class="detail-charts__section"><div><h3 class="type-subtitle-1 text-sky-120">API</h3><span class="type-body-2">Measurements can be accessed programmatically via the OpenAQ API through this URL:</span><span>https://api.openaq.org/v2/measurements?location_id=<!>&date_from=<!>&date_to=<!>&limit=1000</span><div><a class="btn btn-secondary" target="_blank" rel="noopener noreferrer">Try this link</a></div><h5 class="type-subtitle-3">What is the OpenAQ API?</h5><p class="type-body-1">The OpenAQ API lets you access OpenAQ data directly and automatically, so you can use it in your own tools and applications. Learn more</p></div></section></article></div>',59),Dn=A("<label></label>",2),Nn=A('<input type="checkbox" class="checkbox" checked>',1);J.extend(Xe);J.extend(Cn);function Tn(e,t){const l=document.createElement("a");l.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),l.setAttribute("download",e),l.setAttribute("target","_blank"),l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l)}function Fn(e){const l=JSON.parse(JSON.stringify(e)).map(r=>({locationId:r.locationId,location:r.location,parameter:r.parameter,value:r.value,dateUtc:r.date.utc,dateLocal:r.date.local,unit:r.unit,latitude:r.coordinates.latitude,longitude:r.coordinates.longitude,country:r.country,city:r.city,isMobile:r.isMobile,isAnalysis:r.isAnalysis,entity:r.entity,sensorType:r.sensorType})),s=Object.keys(l[0]),c=(r,f)=>f===null?"":f;let d=l.map(r=>s.map(f=>JSON.stringify(r[f],c)).join(","));return d.unshift(s.join(",")),d=d.join(`\r
`),d}function An(){const[e,{setDownloadFilters:t}]=ne(),[l,s]=W(new Date),[c,d]=W(new Date(Date.now()-864e5)),[r,f]=W(e.location?.timezone),x=()=>e.location?.sensors.map(a=>a.parameter.name)??[],[m,P]=Je(x());he(()=>{P(e.location?.sensors.map(a=>a.parameter.name)),f(e.location.timezone)})(()=>e.location);const n=()=>{t(c(),l(),m)};return xe(Ke(e.download,a=>{const y=Fn(a);Tn(`measurements_${e.id}.csv`,y)},{defer:!0})),(()=>{const a=Mn.cloneNode(!0),y=a.firstChild,k=y.nextSibling,v=k.nextSibling,b=v.firstChild,_=b.firstChild,p=_.firstChild,N=_.nextSibling,C=N.nextSibling,S=C.firstChild,w=S.firstChild,Y=w.firstChild,T=Y.nextSibling,M=w.nextSibling,g=M.firstChild,D=g.nextSibling,z=S.nextSibling,H=z.nextSibling,j=H.firstChild,U=j.nextSibling,u=b.nextSibling,i=u.firstChild,F=i.firstChild,O=F.nextSibling,I=O.nextSibling,q=I.firstChild,Z=q.nextSibling,X=Z.nextSibling,K=X.nextSibling,ae=K.nextSibling,ee=ae.nextSibling;ee.nextSibling;const te=I.nextSibling,oe=te.firstChild;return a.style.setProperty("position","relative"),y.style.setProperty("position","absolute"),y.style.setProperty("z-index","-1"),y.style.setProperty("bottom","-60px"),y.style.setProperty("left","-120px"),k.style.setProperty("position","absolute"),k.style.setProperty("bottom","-139px"),k.style.setProperty("left","60px"),_.style.setProperty("display","flex"),_.style.setProperty("justify-content","space-between"),p.style.setProperty("display","flex"),p.style.setProperty("align-items","center"),p.style.setProperty("margin","24px 0"),p.style.setProperty("gap","12px"),C.style.setProperty("margin-top","20px"),C.style.setProperty("display","flex"),C.style.setProperty("flex-direction","column"),C.style.setProperty("gap","32px"),C.style.setProperty("padding-bottom","12px"),T.addEventListener("change",R=>d(new Date(R.target.value))),D.addEventListener("change",R=>s(new Date(R.target.value))),z.style.setProperty("display","grid"),z.style.setProperty("grid-template-columns","1fr 1fr"),z.style.setProperty("width","250px"),z.style.setProperty("row-gap","15px"),h(z,L(le,{get each(){return e.location?.sensors},children:R=>[(()=>{const V=Dn.cloneNode(!0);return h(V,()=>R.parameter.displayName,null),h(V,()=>R.parameter.units,null),E(()=>$(V,"for",`${R.parameter.name}-checkbox`)),V})(),(()=>{const V=Nn.cloneNode(!0);return V.addEventListener("change",B=>{B.target.checked?P(Ce(G=>{G.push(B.target.value)})):P(Ce(G=>{const re=G.indexOf(B.target.value);G.splice(re,1)}))}),E(B=>{const G=`${R.parameter.name}-checkbox`,re=`${R.parameter.name}-checkbox`;return G!==B._v$3&&$(V,"name",B._v$3=G),re!==B._v$4&&$(V,"id",B._v$4=re),B},{_v$3:void 0,_v$4:void 0}),E(()=>V.value=R.parameter.name),V})()]})),H.style.setProperty("display","inline-block"),j.$$click=n,h(U,()=>e.download.loading&&"Fetching data..."),i.style.setProperty("display","grid"),i.style.setProperty("grid-template-rows","1fr 1fr 1fr"),i.style.setProperty("gap","12px"),i.style.setProperty("padding-bottom","24px"),h(I,()=>e.location?.id,Z),h(I,()=>m.length>0?"&":"",Z),h(I,()=>m.map(R=>`parameter=${R}`).join("&"),Z),h(I,()=>J(c()).tz(r()).format("YYYY-MM-DDTHH:mm:ssZ"),K),h(I,()=>J(l()).tz(r()).format("YYYY-MM-DDTHH:mm:ssZ"),ee),te.style.setProperty("display","inline-block"),oe.style.setProperty("display","inline"),E(R=>{const V=e.download.loading,B=`https://api.openaq.org/v2/measurements?location_id=${e.location?.id}&${m.map(G=>`parameter=${G}`).join("&")}
                &date_from=
                ${J(c()).tz(r()).format("YYYY-MM-DDTHH:mm:ssZ")}&date_to=
                  ${J(l()).tz(r()).format("YYYY-MM-DDTHH:mm:ssZ")}&limit=1000`.split(`
`).map(G=>G.trim()).filter(Boolean).join("");return V!==R._v$&&(j.disabled=R._v$=V),B!==R._v$2&&$(oe,"href",R._v$2=B),R},{_v$:void 0,_v$2:void 0}),E(()=>T.value=c().toISOString().split("T")[0]),E(()=>D.value=l().toISOString().split("T")[0]),a})()}Le(["click"]);const In=A("<div></div>",2);function Ln(){const e=et(),[t,{loadLocation:l}]=ne();return t.location||tt(()=>l(e.id)),(()=>{const s=In.cloneNode(!0);return s.style.setProperty("position","relative"),h(s,L(St,{}),null),h(s,L(kt,{}),null),h(s,L(Pn,{}),null),h(s,L(gn,{}),null),h(s,L(An,{}),null),s})()}export{Ln as default};
