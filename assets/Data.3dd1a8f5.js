import{G as F,a as w,b as _,o as y,j as M,i as p,t as v,H as te,c as f,I as R,d as D,k as ne,s as b,S as P,F as B,e as oe,f as le,A as se,B as ae,w as ie}from"./index.a2168236.js";const re=o=>{const t=F({multiple:!1,disabled:!1,optionToValue:a=>a,isOptionDisabled:a=>!1},o),n=a=>{if(t.multiple&&Array.isArray(a))return a;if(!t.multiple&&!Array.isArray(a))return a!==null?[a]:[];throw new Error(`Incompatible value type for ${t.multiple?"multple":"single"} select.`)},[e,l]=w(t.initialValue!==void 0?n(t.initialValue):[]),s=()=>t.multiple?e():e()[0]||null,i=a=>l(n(a)),u=()=>l([]),r=()=>!!(t.multiple?s().length:s());_(y(e,()=>t.onChange?.(s()),{defer:!0}));const[c,d]=w(""),m=()=>d(""),k=()=>!!c().length;_(y(c,a=>t.onInput?.(a),{defer:!0})),_(y(c,a=>{a&&!g()&&$(!0)},{defer:!0}));const h=typeof t.options=="function"?M(()=>t.options(c()),t.options(c())):()=>t.options,N=()=>h().length,O=a=>{if(t.isOptionDisabled(a))return;const C=t.optionToValue(a);t.multiple?i([...e(),C]):(i(C),S(!1)),$(!1)},[U,S]=w(!1),[g,$]=w(!1),H=()=>$(!g()),[A,E]=w(-1),V=()=>h()[A()],W=a=>a===V(),z=a=>{N()||E(-1);const C=N()-1,ee=a==="next"?1:-1;let I=A()+ee;I>C&&(I=0),I<0&&(I=C),E(I)},q=()=>z("previous"),L=()=>z("next");_(y(h,a=>{g()&&E(Math.min(0,a.length-1))},{defer:!0})),_(y(()=>t.disabled,a=>{a&&g()&&$(!1)})),_(y(g,a=>{a?(A()===-1&&L(),S(!0)):(A()>-1&&E(-1),d(""))},{defer:!0})),_(y(A,a=>{a>-1&&!g()&&$(!0)},{defer:!0}));const G=()=>S(!0),Q=()=>{S(!1),$(!1)},X=a=>a.preventDefault(),Y=a=>{!t.disabled&&!k()&&H()},J=a=>{d(a.target.value)},Z=a=>{switch(a.key){case"ArrowDown":L();break;case"ArrowUp":q();break;case"Enter":if(g()&&V()){O(V());break}return;case"Escape":if(g()){$(!1);break}return;case"Delete":case"Backspace":if(c())return;if(t.multiple){const C=s();i([...C.slice(0,-1)])}else u();break;case" ":if(c())return;g()?V()&&O(V()):$(!0);break;case"Tab":if(V()&&g()){O(V());break}return;default:return}a.preventDefault(),a.stopPropagation()};return{options:h,value:s,setValue:i,hasValue:r,clearValue:u,inputValue:c,setInputValue:d,hasInputValue:k,clearInputValue:m,isOpen:g,setIsOpen:$,toggleOpen:H,isActive:U,setIsActive:S,get multiple(){return t.multiple},get disabled(){return t.disabled},pickOption:O,isOptionFocused:W,isOptionDisabled:t.isOptionDisabled,onFocusIn:G,onFocusOut:Q,onMouseDown:X,onClick:Y,onInput:J,onKeyDown:Z}},ce=v("<mark></mark>",2),T={NO_MATCH:0,MATCH:1,WORD_START:2,START:3},ue=(o,t)=>{let n=T.NO_MATCH,e=[];if(o.length<=t.length){const l=Array.from(o.toLocaleLowerCase()),s=Array.from(t.toLocaleLowerCase());let i=T.START;e:for(let u=0,r=0;u<l.length;u++){for(;r<s.length;)if(s[r]===l[u]){e[r]=!0,i===T.MATCH&&s[r-1]===" "&&s[r]!==" "&&(i=T.WORD_START),n+=i,i++,r++;continue e}else i=T.MATCH,r++;n=T.NO_MATCH,e.length=0}}return{target:t,score:n,matches:e}},de=(o,t=n=>(()=>{const e=ce.cloneNode(!0);return p(e,n),e})())=>{const n=o.target,e=o.matches,l="\0",s=[];let i=!1;for(let u=0;u<n.length;u++){const r=n[u],c=e[u];!i&&c?(s.push(l),i=!0):i&&!c&&(s.push(l),i=!1),s.push(r)}return i&&(s.push(l),i=!1),M(()=>s.join("").split(l).map((u,r)=>r%2?t(u):u))},fe=(o,t,n)=>{const e=[];for(let l=0;l<t.length;l++){const s=t[l],i=n?s[n]:s,u=ue(o,i);u.score&&e.push({...u,item:s,index:l})}return e.sort((l,s)=>{let i=s.score-l.score;return i===0&&(i=l.index-s.index),i}),e},me=v("<mark></mark>",2),pe=(o,t)=>{const n=Object.assign({filterable:!0,disable:()=>!1},t||{}),e=r=>n?.key!==void 0?r[n.key]:r;return{options:r=>{let d=(typeof o=="function"?o(r):o).map(m=>({label:e(m),value:m,disabled:n.disable(m)}));if(n.filterable&&r&&(d=fe(r,d,"label").map(m=>({...m.item,label:de(m)}))),n.createable!==void 0){const m=r.trim(),k=d.some(h=>he(r,e(h.value)));if(m&&!k){let h;typeof n.createable=="function"?h=n.createable(m):h=n.key?{[n.key]:m}:m;const N={label:["Create ",(()=>{const O=me.cloneNode(!0);return p(O,()=>e(h)),O})()],value:h,disabled:!1};d=[...d,N]}}return d},optionToValue:r=>r.value,isOptionDisabled:r=>r.disabled,format:(r,c)=>c==="option"?r.label:e(r)}},he=(o,t)=>o.localeCompare(t,void 0,{sensitivity:"base"})===0,ve=v("<div></div>",2),ge=v('<div class="solid-select-control"></div>',2),be=v('<div class="solid-select-placeholder"></div>',2),$e=v('<div class="solid-select-single-value"></div>',2),_e=v('<div class="solid-select-multi-value"><button type="button" class="solid-select-multi-value-remove">\u2A2F</button></div>',4),ye=v('<input class="solid-select-input" type="text" tabindex="0" autocomplete="off" autocapitalize="none" size="1">',1),Oe=v('<div class="solid-select-list"></div>',2),K=v('<div class="solid-select-list-placeholder"></div>',2),Ve=v('<div class="solid-select-option"></div>',2),j=se(),x=()=>{const o=ae(j);if(!o)throw new Error("No SelectContext found in ancestry.");return o},Ce=o=>{const[t,n]=te(F({format:(l,s)=>l,placeholder:"Select...",readonly:typeof o.options!="function",loading:!1,loadingPlaceholder:"Loading...",emptyPlaceholder:"No options"},o),["options","optionToValue","isOptionDisabled","multiple","disabled","onInput","onChange"]),e=re(t);return _(y(()=>n.initialValue,l=>l!==void 0&&e.setValue(l))),f(j.Provider,{value:e,get children(){return f(we,{get class(){return n.class},get children(){return[f(ke,{get id(){return n.id},get name(){return n.name},get format(){return n.format},get placeholder(){return n.placeholder},get autofocus(){return n.autofocus},get readonly(){return n.readonly}}),f(Ie,{get loading(){return n.loading},get loadingPlaceholder(){return n.loadingPlaceholder},get emptyPlaceholder(){return n.emptyPlaceholder},get format(){return n.format}})]}})}})},we=o=>{const t=x();return(()=>{const n=ve.cloneNode(!0);return n.$$mousedown=e=>{t.onMouseDown(e),e.currentTarget.getElementsByTagName("input")[0].focus()},R(n,"focusout",t.onFocusOut,!0),R(n,"focusin",t.onFocusIn,!0),p(n,()=>o.children),D(e=>{const l=`solid-select-container ${o.class!==void 0?o.class:""}`,s=t.disabled;return l!==e._v$&&ne(n,e._v$=l),s!==e._v$2&&b(n,"data-disabled",e._v$2=s),e},{_v$:void 0,_v$2:void 0}),n})()},ke=o=>{const t=x(),n=e=>{const l=t.value();t.setValue([...l.slice(0,e),...l.slice(e+1)])};return(()=>{const e=ge.cloneNode(!0);return R(e,"click",t.onClick,!0),p(e,f(P,{get when(){return M(()=>!t.hasValue())()&&!t.hasInputValue()},get children(){return f(Te,{get children(){return o.placeholder}})}}),null),p(e,f(P,{get when(){return M(()=>!!(t.hasValue()&&!t.multiple))()&&!t.hasInputValue()},get children(){return f(xe,{get children(){return o.format(t.value(),"value")}})}}),null),p(e,f(P,{get when(){return t.hasValue()&&t.multiple},get children(){return f(B,{get each(){return t.value()},children:(l,s)=>f(Se,{onRemove:()=>n(s()),get children(){return o.format(l,"value")}})})}}),null),p(e,f(Ae,{get id(){return o.id},get name(){return o.name},get autofocus(){return o.autofocus},get readonly(){return o.readonly}}),null),D(l=>{const s=t.multiple,i=t.hasValue(),u=t.disabled;return s!==l._v$3&&b(e,"data-multiple",l._v$3=s),i!==l._v$4&&b(e,"data-has-value",l._v$4=i),u!==l._v$5&&b(e,"data-disabled",l._v$5=u),l},{_v$3:void 0,_v$4:void 0,_v$5:void 0}),e})()},Te=o=>(()=>{const t=be.cloneNode(!0);return p(t,()=>o.children),t})(),xe=o=>(()=>{const t=$e.cloneNode(!0);return p(t,()=>o.children),t})(),Se=o=>(x(),(()=>{const t=_e.cloneNode(!0),n=t.firstChild;return p(t,()=>o.children,n),n.$$click=e=>{e.stopPropagation(),o.onRemove()},t})()),Ae=o=>{const t=x();return(()=>{const n=ye.cloneNode(!0);return n.$$mousedown=e=>{e.stopPropagation()},n.$$keydown=e=>{t.onKeyDown(e),e.defaultPrevented||e.key==="Escape"&&(e.preventDefault(),e.stopPropagation(),e.target.blur())},R(n,"input",t.onInput,!0),D(e=>{const l=o.id,s=o.name,i=t.multiple,u=t.isActive(),r=o.autofocus,c=o.readonly,d=t.disabled;return l!==e._v$6&&b(n,"id",e._v$6=l),s!==e._v$7&&b(n,"name",e._v$7=s),i!==e._v$8&&b(n,"data-multiple",e._v$8=i),u!==e._v$9&&b(n,"data-is-active",e._v$9=u),r!==e._v$10&&(n.autofocus=e._v$10=r),c!==e._v$11&&(n.readOnly=e._v$11=c),d!==e._v$12&&(n.disabled=e._v$12=d),e},{_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0}),D(()=>n.value=t.inputValue()),n})()},Ie=o=>{const t=x();return f(P,{get when(){return t.isOpen()},get children(){const n=Oe.cloneNode(!0);return p(n,f(P,{get when(){return!o.loading},get fallback(){return(()=>{const e=K.cloneNode(!0);return p(e,()=>o.loadingPlaceholder),e})()},get children(){return f(B,{get each(){return t.options()},get fallback(){return(()=>{const e=K.cloneNode(!0);return p(e,()=>o.emptyPlaceholder),e})()},children:e=>f(Pe,{option:e,get children(){return o.format(e,"option")}})})}})),n}})},Pe=o=>{const t=x(),n=e=>{_(()=>{t.isOptionFocused(o.option)&&e.scrollIntoView({block:"nearest"})})};return(()=>{const e=Ve.cloneNode(!0);return e.$$click=()=>t.pickOption(o.option),oe(n,e),p(e,()=>o.children),D(l=>{const s=t.isOptionDisabled(o.option),i=t.isOptionFocused(o.option);return s!==l._v$13&&b(e,"data-disabled",l._v$13=s),i!==l._v$14&&b(e,"data-focused",l._v$14=i),l},{_v$13:void 0,_v$14:void 0}),e})()};le(["focusin","focusout","mousedown","click","input","keydown"]);const De=v('<section class="page-data"><div class="data-form"><form><h1>Download sensor data</h1><div class="flex flex-1 flex-col max-w-100 gap-3">Select sensor(s):</div><label class="data-form-item">Pollutant<select class="select"><option>PM 2.5</option><option>PM 10</option><option>O3</option><option>CO</option></select></label><label class="data-form-item">Start time/date<input type="datetime-local" name="start-time" class="text-input"></label><label class="data-form-item">End time/date<input type="datetime-local" name="end-time" class="text-input"></label><label class="data-form-item">Time step<select class="select"><option>Hourly</option><option>Daily</option><option>Monthly</option><option>Yearly</option></select></label><div class="data-chart">data chart goes here</div><label class="data-form-item" for="downloadSubmit"><button id="downloadSubmit" type="submit" name="submit" class="icon-btn btn-secondary">Download</button></label></form></div><div class="data-image">image goes here</div></section>',48),Ee=()=>{const o=c=>({id:ie(),name:c}),t=[o("DST : 101 2236 14TH STREET (95120)"),o("OAQ : PORT HURON (48060)"),o("PAR : Appoline St (48227)"),o("CLA : AHKQKKTX (48211)"),o("TSI : FBPOWER1 (58757)")],n=[],[e,l]=w(t),[s,i]=w(n),u=c=>{i(c);const d=c[c.length-1];d&&!e().includes(d)&&l([...e(),d])},r=pe(e,{key:"name",disable:c=>s().includes(c),filterable:!0,createable:o});return(()=>{const c=De.cloneNode(!0),d=c.firstChild,m=d.firstChild,k=m.firstChild,h=k.nextSibling;return h.firstChild,p(h,f(Ce,F({class:"search",multiple:!0,label:"Select sensors",placeholder:"Search by monitor type, sensor name, or zip code...",onChange:u},r)),null),c})()};export{Ee as default};
